RequireJS.define("text",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),RequireJS.define("text!templates/fields/field_readonly.underscore",[],function(){return'<% if (title) { %>\n<span class="u-field-title" aria-hidden="true"><%- title %></span>\n<% } %>\n<span class="sr" for="u-field-value-<%- id %>"><%- screenReaderTitle %></span>\n<span class="u-field-value" id="u-field-value-<%- id %>" aria-describedby="u-field-message-<%- id %>"><%- value %></span>\n<span class="u-field-message" id="u-field-message-<%- id %>">\n    <span class="u-field-message-notification" aria-live="polite"></span>\n    <span class="u-field-message-help" id="u-field-help-message-<%- id %>"> <%- message %></span>\n</span>\n'}),RequireJS.define("text!templates/fields/field_dropdown.underscore",[],function(){return'<% if (editable !== \'never\') { %>\n    <% if (title && titleVisible) { %>\n        <label class="u-field-title" for="u-field-select-<%- id %>">\n            <%- title %>\n        </label>\n    <% } else { %>\n        <label class="sr" for="u-field-select-<%- id %>">\n            <%- screenReaderTitle %>\n        </label>\n    <% } %>\n<% } %>\n\n<% if (iconName) { %>\n    <i class="u-field-icon icon fa <%- iconName %> fa-fw" aria-hidden="true"></i>\n<% } %>\n\n<span class="u-field-value">\n    <% if (editable === \'never\') { %>\n        <span class="sr"><%- screenReaderTitle %> &nbsp;</span>\n        <span class="u-field-value-readonly"></span>\n    <% } else { %>\n        <select name="select" id="u-field-select-<%- id %>" aria-describedby="u-field-message-<%- id %>">\n            <% if (showBlankOption) { %>\n                <option value=""></option>\n            <% } %>\n            <% _.each(selectOptions, function(selectOption) { %>\n                <option value="<%- selectOption[0] %>"><%- selectOption[1] %></option>\n            <% }); %>\n        </select>\n        <button class="u-field-value-display">\n            <span class="sr"><%- screenReaderTitle %> &nbsp;</span>\n            <span class="u-field-value-readonly"></span>\n            <span class="sr">&nbsp; <%- gettext(\'Click to edit\') %></span>\n        </button>\n    <% } %>\n</span>\n\n<span class="u-field-message" id="u-field-message-<%- id %>">\n    <span class="u-field-message-notification" aria-live="polite"></span>\n    <span class="u-field-message-help" id="u-field-help-message-<%- id %>"><%- message %></span>\n</span>\n'}),RequireJS.define("text!templates/fields/field_link.underscore",[],function(){return'<span class="u-field-title" for="u-field-link-<%- id %>">\n    <%- title %>\n</span>\n<span class="u-field-value">\n    <a id="u-field-link-<%- id %>" href="<%- linkHref %>" aria-describedby="u-field-message-help-<%- id %>">\n       <span class="sr"><%- screenReaderTitle %></span>\n       <span class="u-field-link-title-<%- id %>" aria-hidden="true"><%- linkTitle %></span>\n    </a>\n</span>\n<span class="u-field-message" id="u-field-message-<%- id %>">\n    <span class="u-field-message-notification" aria-live="polite"></span>\n    <span class="u-field-message-help" id="u-field-message-help-<%- id %>"><%- message %></span>\n</span>\n'}),RequireJS.define("text!templates/fields/field_text.underscore",[],function(){return'<label class="u-field-title" for="u-field-input-<%- id %>">\n    <%- gettext(title) %>\n</label>\n<span class="u-field-value">\n    <input id="u-field-input-<%- id %>" aria-describedby="u-field-message-help-<%- id %>" type="text" name="input" value="<%- value %>">\n</span>\n<span class="u-field-message" id="u-field-message-<%- id %>">\n    <span class="u-field-message-notification" aria-live="polite"></span>\n    <span class="u-field-message-help" id="u-field-message-help-<%- id %>"> <%- message %></span>\n</span>\n'}),RequireJS.define("text!templates/fields/field_textarea.underscore",[],function(){return'<div class="wrapper-u-field">\n    <div class="u-field-header">\n        <% if (mode === \'edit\') { %>\n            <label class="u-field-title" for="u-field-textarea-<%- id %>" id="u-field-title-<%- id %>"></label>\n        <% } else { %>\n            <span class="u-field-title" id="u-field-title-<%- id %>" aria-hidden="true"></span>\n        <% } %>\n        <% if (messagePosition === \'header\') { %>\n            <span class="u-field-message" id="u-field-message-<%- id %>">\n                <span class="u-field-message-notification" aria-live="polite"></span>\n                <span class="u-field-message-help" id="u-field-message-help-<%- id %>"> <%- message %></span>\n            </span>\n        <% }%>\n    </div>\n\n    <div class="u-field-value" id="u-field-value-<%- id %>"\n        <% if (mode === \'edit\') { %>\n            aria-labelledby="u-field-title-<%- id %>"><textarea id="u-field-textarea-<%- id %>" rows="4"\n            <% if (message) { %>\n                aria-describedby="u-field-message-help-<%- id %>"\n            <% } %>\n            ><%- value %></textarea>\n        <% } else if (editable === \'never\') { %>\n            ><p class="sr"><%- screenReaderTitle %></p><span class="u-field-value-readonly" aria-hidden="false"\n            <% if (message) { %>\n                aria-describedby="u-field-message-help-<%- id %>"\n            <% } %>\n            ><%- value %></span>\n        <% } else { %>\n            ><a href="#"><p class="sr"><%- screenReaderTitle %></p><span class="u-field-value-readonly" aria-hidden="false" aria-describedby="u-field-placeholder-value-<%- id %>"><%- value %></span><span class="sr"><%- gettext(\'Click to edit\') %></span></a>\n            <span class="sr" id="u-field-placeholder-value-<%- id %>"><%- placeholderValue %></span>\n        <% } %>\n    </div>\n\n    <div class="u-field-footer">\n        <% if (messagePosition === \'footer\') { %>\n            <span class="u-field-message" id="u-field-message-<%- id %>">\n                <span class="u-field-message-notification" aria-live="polite"></span>\n                <span class="u-field-message-help" id="u-field-message-help-<%- id %>"> <%- message %></span>\n            </span>\n        <% } %>\n    </div>\n</div>\n'}),function(e,i){if("function"==typeof RequireJS.define&&RequireJS.define.amd)RequireJS.define("backbone-super",["underscore","backbone"],function(e,t){i(e,t)});else if("undefined"!=typeof exports&&"function"==typeof require){var t=require("underscore"),s=require("backbone");i(t,s)}else i(e._,e.Backbone)}(this,function(e,i){i.Model.extend=i.Collection.extend=i.Router.extend=i.View.extend=function(e,i){var t=l(this,e,i);return t.extend=this.extend,t};var t=function(e){throw"Super does not implement this method: "+e},s=/\b_super\b/,n=function(e,i,s){var n=function(){var n=this._super;this._super=e[i]||t(i);var a;try{a=s.apply(this,arguments)}finally{this._super=n}return a};for(var a in s)n[a]=s[a],delete s[a];return n},a=function(){},l=function(i,t,l){var o,r=i.prototype;if(o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return i.apply(this,arguments)},e.extend(o,i,l),a.prototype=r,o.prototype=new a,t){e.extend(o.prototype,t);for(var d in t)"function"==typeof t[d]&&s.test(t[d])&&(o.prototype[d]=n(r,d,t[d]))}return l&&e.extend(o,l),o.prototype.constructor=o,o.__super__=r,o};return l}),function(e,i){RequireJS.define("js/views/fields",["gettext","jquery","underscore","backbone","text!templates/fields/field_readonly.underscore","text!templates/fields/field_dropdown.underscore","text!templates/fields/field_link.underscore","text!templates/fields/field_text.underscore","text!templates/fields/field_textarea.underscore","backbone-super"],function(e,t,s,n,a,l,o,r,d){var u=6e3,c={};return c.FieldView=n.View.extend({fieldType:"generic",className:function(){return"u-field u-field-"+this.fieldType+" u-field-"+this.options.valueAttribute},tagName:"div",indicators:{canEdit:'<i class="icon fa fa-pencil message-can-edit" aria-hidden="true"></i><span class="sr">'+e("Editable")+"</span>",error:'<i class="fa fa-exclamation-triangle message-error" aria-hidden="true"></i><span class="sr">'+e("Error")+"</span>",validationError:'<i class="fa fa-exclamation-triangle message-validation-error" aria-hidden="true"></i><span class="sr">'+e("Validation Error")+"</span>",inProgress:'<i class="fa fa-spinner fa-pulse message-in-progress" aria-hidden="true"></i><span class="sr">'+e("In Progress")+"</span>",success:'<i class="fa fa-check message-success" aria-hidden="true"></i><span class="sr">'+e("Success")+"</span>",plus:'<i class="fa fa-plus placeholder" aria-hidden="true"></i><span class="sr">'+e("Placeholder")+"</span>"},messages:{canEdit:"",error:e("An error occurred. Please try again."),validationError:"",inProgress:e("Saving"),success:e("Your changes have been saved.")},initialize:function(){this.template=s.template(this.fieldTemplate||""),this.helpMessage=this.options.helpMessage||"",this.showMessages=s.isUndefined(this.options.showMessages)?!0:this.options.showMessages,s.bindAll(this,"modelValue","modelValueIsSet","showNotificationMessage","getNotificationMessage","getMessage","title","showHelpMessage","showInProgressMessage","showSuccessMessage","showErrorMessage")},modelValue:function(){return this.model.get(this.options.valueAttribute)},modelValueIsSet:function(){return this.modelValue()===!0},title:function(e){return this.$(".u-field-title").html(e)},getMessage:function(e){return e+"Message"in this?this[e+"Message"].call(this):this.showMessages?this.indicators[e]+this.messages[e]:this.indicators[e]},showHelpMessage:function(e){(s.isUndefined(e)||s.isNull(e))&&(e=this.helpMessage),this.$(".u-field-message-notification").html(""),this.$(".u-field-message-help").html(e)},getNotificationMessage:function(){return this.$(".u-field-message-notification").html()},showNotificationMessage:function(e){this.$(".u-field-message-help").html(""),this.$(".u-field-message-notification").html(e)},showCanEditMessage:function(e){this.showNotificationMessage(!s.isUndefined(e)&&e?this.getMessage("canEdit"):"")},showInProgressMessage:function(){this.showNotificationMessage(this.getMessage("inProgress"))},showSuccessMessage:function(){var e=this.getMessage("success");this.showNotificationMessage(e),this.options.refreshPageOnSave&&location.reload(!0);var i=this,t=Date.now();this.lastSuccessMessageContext=t,setTimeout(function(){t===i.lastSuccessMessageContext&&i.getNotificationMessage()===e&&("toggle"===i.editable?i.showCanEditMessage(!0):i.showHelpMessage())},u)},showErrorMessage:function(e){if(400===e.status)try{var i=JSON.parse(e.responseText),t=s.escape(i.field_errors[this.options.valueAttribute].user_message),n=this.indicators.validationError+t;this.showNotificationMessage(n)}catch(a){this.showNotificationMessage(this.getMessage("error"))}else this.showNotificationMessage(this.getMessage("error"))}}),c.EditableFieldView=c.FieldView.extend({initialize:function(e){this.persistChanges=s.isUndefined(e.persistChanges)?!1:e.persistChanges,s.bindAll(this,"saveAttributes","saveSucceeded","showDisplayMode","showEditMode","startEditing","finishEditing"),this._super(e),this.editable=s.isUndefined(this.options.editable)?"always":this.options.editable,this.$el.addClass("editable-"+this.editable),"always"===this.editable?this.showEditMode(!1):this.showDisplayMode(!1)},saveAttributes:function(e,i){if(this.persistChanges===!0){var t=this,n={contentType:"application/merge-patch+json",patch:!0,wait:!0,success:function(){t.saveSucceeded()},error:function(e,i){t.showErrorMessage(i)}};this.showInProgressMessage(),this.model.save(e,s.extend(n,i))}},saveSucceeded:function(){this.showSuccessMessage()},updateDisplayModeClass:function(){this.$el.removeClass("mode-edit"),this.$el.toggleClass("mode-hidden","never"===this.editable&&!this.modelValueIsSet()),this.$el.toggleClass("mode-placeholder","toggle"===this.editable&&!this.modelValueIsSet()),this.$el.toggleClass("mode-display",this.modelValueIsSet())},showDisplayMode:function(e){this.mode="display",e&&this.render(),this.updateDisplayModeClass()},showEditMode:function(e){this.mode="edit",e&&this.render(),this.$el.removeClass("mode-hidden"),this.$el.removeClass("mode-placeholder"),this.$el.removeClass("mode-display"),this.$el.addClass("mode-edit")},startEditing:function(){"toggle"===this.editable&&"edit"!==this.mode&&this.showEditMode(!0)},finishEditing:function(){this.persistChanges!==!1&&"edit"===this.mode&&(this.fieldValue()!==this.modelValue()?this.saveValue():"always"===this.editable?this.showEditMode(!0):this.showDisplayMode(!0))},highlightFieldOnError:function(){this.$el.addClass("error")},unhighlightField:function(){this.$el.removeClass("error")}}),c.ReadonlyFieldView=c.FieldView.extend({fieldType:"readonly",fieldTemplate:a,initialize:function(e){this._super(e),s.bindAll(this,"render","fieldValue","updateValueInField"),this.listenTo(this.model,"change:"+this.options.valueAttribute,this.updateValueInField)},render:function(){return this.$el.html(this.template({id:this.options.valueAttribute,title:this.options.title,screenReaderTitle:this.options.screenReaderTitle||this.options.title,value:this.modelValue(),message:this.helpMessage})),this.delegateEvents(),this},fieldValue:function(){return this.$(".u-field-value").text()},updateValueInField:function(){this.$(".u-field-value ").html(s.escape(this.modelValue()))}}),c.TextFieldView=c.EditableFieldView.extend({fieldType:"text",fieldTemplate:r,events:{"change input":"saveValue"},initialize:function(e){this._super(e),s.bindAll(this,"render","fieldValue","updateValueInField","saveValue"),this.listenTo(this.model,"change:"+this.options.valueAttribute,this.updateValueInField)},render:function(){return this.$el.html(this.template({id:this.options.valueAttribute,title:this.options.title,value:this.modelValue(),message:this.helpMessage})),this.delegateEvents(),this},fieldValue:function(){return this.$(".u-field-value input").val()},updateValueInField:function(){var e=s.isUndefined(this.modelValue())||s.isNull(this.modelValue())?"":this.modelValue();this.$(".u-field-value input").val(e)},saveValue:function(){var e={};e[this.options.valueAttribute]=this.fieldValue(),this.saveAttributes(e)}}),c.DropdownFieldView=c.EditableFieldView.extend({fieldType:"dropdown",fieldTemplate:l,events:{click:"startEditing","change select":"finishEditing","focusout select":"finishEditing"},initialize:function(e){s.bindAll(this,"render","optionForValue","fieldValue","displayValue","updateValueInField","saveValue"),this._super(e),this.listenTo(this.model,"change:"+this.options.valueAttribute,this.updateValueInField)},render:function(){return this.$el.html(this.template({id:this.options.valueAttribute,mode:this.mode,editable:this.editable,title:this.options.title,screenReaderTitle:this.options.screenReaderTitle||this.options.title,titleVisible:this.options.titleVisible!==i?this.options.titleVisible:!0,iconName:this.options.iconName,showBlankOption:!this.options.required||!this.modelValueIsSet(),selectOptions:this.options.options,message:this.helpMessage})),this.delegateEvents(),this.updateValueInField(),"toggle"===this.editable&&this.showCanEditMessage("display"===this.mode),this},modelValueIsSet:function(){var e=this.modelValue();return s.isUndefined(e)||s.isNull(e)||""===e?!1:!s.isUndefined(this.optionForValue(e))},optionForValue:function(e){return s.find(this.options.options,function(i){return i[0]===e})},fieldValue:function(){var e;return e="never"===this.editable?this.modelValueIsSet()?this.modelValue():null:this.$(".u-field-value select").val(),""===e?null:e},displayValue:function(e){if(e){var i=this.optionForValue(e);return i?i[1]:""}return""},updateValueInField:function(){"never"!==this.editable&&this.$(".u-field-value select").val(this.modelValue()||"");var e=this.displayValue(this.modelValue()||"");this.modelValueIsSet()===!1&&(e=this.options.placeholderValue||""),this.$(".u-field-value").attr("aria-label",this.options.title),this.$(".u-field-value-readonly").html(s.escape(e)),"display"===this.mode&&this.updateDisplayModeClass()},saveValue:function(){var e={};e[this.options.valueAttribute]=this.fieldValue(),this.saveAttributes(e)},showDisplayMode:function(e){this._super(e),"toggle"===this.editable&&this.$(".u-field-value a").focus()},showEditMode:function(e){this._super(e),"toggle"===this.editable&&this.$(".u-field-value select").focus()},saveSucceeded:function(){"toggle"===this.editable&&this.showDisplayMode(),this.options.required&&this.modelValueIsSet()&&this.$('option[value=""]').remove(),this._super()},disableField:function(e){"never"!==this.editable&&this.$(".u-field-value select").prop("disabled",e)}}),c.TextareaFieldView=c.EditableFieldView.extend({fieldType:"textarea",fieldTemplate:d,events:{"click .wrapper-u-field":"startEditing","click .u-field-placeholder":"startEditing","focusout textarea":"finishEditing","change textarea":"adjustTextareaHeight","keyup textarea":"adjustTextareaHeight","keydown textarea":"onKeyDown","paste textarea":"adjustTextareaHeight","cut textarea":"adjustTextareaHeight"},initialize:function(e){s.bindAll(this,"render","onKeyDown","adjustTextareaHeight","fieldValue","saveValue","updateView"),this._super(e),this.listenTo(this.model,"change:"+this.options.valueAttribute,this.updateView)},render:function(){var e=this.modelValue();return"display"===this.mode&&(e=e||this.options.placeholderValue),this.$el.html(this.template({id:this.options.valueAttribute,screenReaderTitle:this.options.screenReaderTitle||this.options.title,mode:this.mode,editable:this.editable,value:e,message:this.helpMessage,messagePosition:this.options.messagePosition||"footer",placeholderValue:this.options.placeholderValue})),this.delegateEvents(),this.title(this.modelValue()||"edit"===this.mode?this.options.title:this.indicators.plus+this.options.title),"toggle"===this.editable&&this.showCanEditMessage("display"===this.mode),this},onKeyDown:function(e){13===e.keyCode?(e.preventDefault(),this.finishEditing(e)):this.adjustTextareaHeight()},adjustTextareaHeight:function(){if(this.persistChanges!==!1){var e=this.$("textarea");e.css("height","auto").css("height",e.prop("scrollHeight")+10)}},modelValue:function(){var e=this._super();return e?t.trim(e):""},fieldValue:function(){return"edit"===this.mode?this.$(".u-field-value textarea").val():this.$(".u-field-value .u-field-value-readonly").text()},saveValue:function(){var e={};e[this.options.valueAttribute]=this.fieldValue(),this.saveAttributes(e)},updateView:function(){"edit"!==this.mode&&this.showDisplayMode(!0)},modelValueIsSet:function(){return!(""===this.modelValue())},showEditMode:function(e){this._super(e),this.adjustTextareaHeight(),this.$(".u-field-value textarea").focus()},saveSucceeded:function(){this._super(),"toggle"===this.editable&&(this.showDisplayMode(!0),this.$("a").focus())}}),c.LinkFieldView=c.FieldView.extend({fieldType:"link",fieldTemplate:o,events:{"click a":"linkClicked"},initialize:function(e){this._super(e),s.bindAll(this,"render","linkClicked")},render:function(){return this.$el.html(this.template({id:this.options.valueAttribute,title:this.options.title,screenReaderTitle:this.options.screenReaderTitle||this.options.title,linkTitle:this.options.linkTitle,linkHref:this.options.linkHref,message:this.helpMessage})),this.delegateEvents(),this},linkClicked:function(e){e.preventDefault()}}),c})}.call(this,define||RequireJS.define),function(){RequireJS.define("js/student_account/models/user_account_model",["gettext","underscore","backbone"],function(e,i,t){var s=t.Model.extend({idAttribute:"username",defaults:{username:"",name:"",email:"",password:"",language:null,country:null,date_joined:"",gender:null,goals:"",level_of_education:null,mailing_address:"",year_of_birth:null,bio:null,language_proficiencies:[],requires_parental_consent:!0,profile_image:null,accomplishments_shared:!1,default_public_account_fields:[]},parse:function(e){if(i.isNull(e))return{};var t=i.filter(i.keys(e),function(e){return"default_public_account_fields"!==e}),s=i.size(i.difference(t,e.default_public_account_fields))>0;return e.profile_is_public=s,e},hasProfileImage:function(){var e=this.get("profile_image");return i.isObject(e)&&e.has_image===!0},profileImageUrl:function(){return this.get("profile_image").image_url_large},isAboveMinimumAge:function(){var e=this.get("year_of_birth"),t=!(i.isUndefined(e)||i.isNull(e));return t&&!this.get("requires_parental_consent")}});return s})}.call(this,define||RequireJS.define),function(){RequireJS.define("js/student_account/models/user_preferences_model",["gettext","underscore","backbone"],function(e,i,t){var s=t.Model.extend({idAttribute:"account_privacy",defaults:{account_privacy:"private"}});return s})}.call(this,define||RequireJS.define),function(){RequireJS.define("js/student_account/views/account_settings_fields",["gettext","jquery","underscore","backbone","js/views/fields"],function(e,i,t,s,n){var a={};return a.EmailFieldView=n.TextFieldView.extend({successMessage:function(){return this.indicators.success+interpolate_text(e("We've sent a confirmation message to {new_email_address}. Click the link in the message to update your email address."),{new_email_address:this.fieldValue()})}}),a.LanguagePreferenceFieldView=n.DropdownFieldView.extend({saveSucceeded:function(){var t={language:this.modelValue()},s=this;i.ajax({type:"POST",url:"/i18n/setlang/",data:t,dataType:"html",success:function(){s.showSuccessMessage()},error:function(){s.showNotificationMessage(s.indicators.error+e("You must sign out and sign back in before your language changes take effect."))}})}}),a.PasswordFieldView=n.LinkFieldView.extend({initialize:function(e){this._super(e),t.bindAll(this,"resetPassword")},linkClicked:function(e){e.preventDefault(),this.resetPassword(e)},resetPassword:function(){var e={};e[this.options.emailAttribute]=this.model.get(this.options.emailAttribute);var t=this;i.ajax({type:"POST",url:t.options.linkHref,data:e,success:function(){t.showSuccessMessage()},error:function(e){t.showErrorMessage(e)}})},successMessage:function(){return this.indicators.success+interpolate_text(e("We've sent a message to {email_address}. Click the link in the message to reset your password."),{email_address:this.model.get(this.options.emailAttribute)})}}),a.LanguageProficienciesFieldView=n.DropdownFieldView.extend({modelValue:function(){var e=this.model.get(this.options.valueAttribute);return t.isArray(e)&&e.length>0?e[0].code:null},saveValue:function(){if(this.persistChanges===!0){var e={},i=this.fieldValue()?[{code:this.fieldValue()}]:[];e[this.options.valueAttribute]=i,this.saveAttributes(e)}}}),a.AuthFieldView=n.LinkFieldView.extend({initialize:function(e){this._super(e),t.bindAll(this,"redirect_to","disconnect","successMessage","inProgressMessage")},render:function(){var i;return i=this.options.connected?e("Unlink"):this.options.acceptsLogins?e("Link"):"",this.$el.html(this.template({id:this.options.valueAttribute,title:this.options.title,screenReaderTitle:this.options.screenReaderTitle,linkTitle:i,linkHref:"",message:this.helpMessage})),this},linkClicked:function(e){e.preventDefault(),this.showInProgressMessage(),this.options.connected?this.disconnect():this.redirect_to(this.options.connectUrl)},redirect_to:function(e){window.location.href=e},disconnect:function(){var e={},t=this;i.ajax({type:"POST",url:this.options.disconnectUrl,data:e,dataType:"html",success:function(){t.options.connected=!1,t.render(),t.showSuccessMessage()},error:function(e){t.showErrorMessage(e)}})},inProgressMessage:function(){return this.indicators.inProgress+e(this.options.connected?"Unlinking":"Linking")},successMessage:function(){return this.indicators.success+e("Successfully unlinked.")}}),a})}.call(this,define||RequireJS.define),RequireJS.define("text!templates/student_account/account_settings.underscore",[],function(){return'<div class="account-settings-container">\n    <div class="wrapper-header">\n        <h2 class="header-title"><%- gettext("Account Settings") %></h2>\n        <small class="account-settings-header-subtitle"><%- gettext("These settings include basic information about your account. You can also specify additional information and see your linked social accounts on this page.") %></small>\n    </div>\n\n    <div class="account-settings-sections">\n        <% _.each(sections, function(section) { %>\n            <div class="section">\n                <h3 class="section-header"><%- gettext(section.title) %></h3>\n                <div class="account-settings-section-body">\n                    <div class="ui-loading-indicator">\n                        <span class="spin"><i class="icon fa fa-refresh" aria-hidden=true></i></span>\n                        <span class="copy"><%- gettext("Loading") %></span>\n                    </div>\n                    <div class="ui-loading-error is-hidden">\n                        <i class="fa fa-exclamation-triangle message-error" aria-hidden=true></i>\n                        <span class="copy"><%- gettext("An error occurred. Please reload the page.") %></span>\n                    </div>\n                </div>\n            </div>\n        <% }); %>\n    </div>\n</div>\n'}),function(){RequireJS.define("js/student_account/views/account_settings_view",["gettext","jquery","underscore","backbone","text!templates/student_account/account_settings.underscore"],function(e,i,t,s,n){var a=s.View.extend({initialize:function(){t.bindAll(this,"render","renderFields","showLoadingError")},render:function(){return this.$el.html(t.template(n)({sections:this.options.sectionsData})),this},renderFields:function(){this.$(".ui-loading-indicator").addClass("is-hidden");var e=this;return t.each(this.$(".account-settings-section-body"),function(s,n){t.each(e.options.sectionsData[n].fields,function(e){i(s).append(e.view.render().el)})}),this},showLoadingError:function(){this.$(".ui-loading-indicator").addClass("is-hidden"),this.$(".ui-loading-error").removeClass("is-hidden")}});return a})}.call(this,define||RequireJS.define),function(){RequireJS.define("js/student_account/views/account_settings_factory",["gettext","jquery","underscore","backbone","logger","js/views/fields","js/student_account/models/user_account_model","js/student_account/models/user_preferences_model","js/student_account/views/account_settings_fields","js/student_account/views/account_settings_view"],function(e,i,t,s,n,a,l,o,r,d){return function(s,u,c,h,f,p){var g=i(".wrapper-account-settings"),m=new l;m.url=c;var v=new o;v.url=h;var w=[{title:e("Basic Account Information (required)"),fields:[{view:new a.ReadonlyFieldView({model:m,title:e("Username"),valueAttribute:"username",helpMessage:interpolate_text(e("The name that identifies you throughout {platform_name}. You cannot change your username."),{platform_name:p})})},{view:new a.TextFieldView({model:m,title:e("Full Name"),valueAttribute:"name",helpMessage:e("The name that is used for ID verification and appears on your certificates. Other learners never see your full name. Make sure to enter your name exactly as it appears on your government-issued photo ID, including any non-Roman characters."),persistChanges:!0})},{view:new r.EmailFieldView({model:m,title:e("Email Address"),valueAttribute:"email",helpMessage:interpolate_text(e("The email address you use to sign in. Communications from {platform_name} and your courses are sent to this address."),{platform_name:p}),persistChanges:!0})},{view:new r.PasswordFieldView({model:m,title:e("Password"),screenReaderTitle:e("Reset your Password"),valueAttribute:"password",emailAttribute:"email",linkTitle:e("Reset Password"),linkHref:s.password.url,helpMessage:e('When you click "Reset Password", a message will be sent to your email address. Click the link in the message to reset your password.')})},{view:new r.LanguagePreferenceFieldView({model:v,title:e("Language"),valueAttribute:"pref-lang",required:!0,refreshPageOnSave:!0,helpMessage:interpolate_text(e("The language used throughout this site. This site is currently available in a limited number of languages."),{platform_name:p}),options:s.language.options,persistChanges:!0})},{view:new a.DropdownFieldView({model:m,required:!0,title:e("Country or Region"),valueAttribute:"country",options:s.country.options,persistChanges:!0})}]},{title:e("Additional Information (optional)"),fields:[{view:new a.DropdownFieldView({model:m,title:e("Education Completed"),valueAttribute:"level_of_education",options:s.level_of_education.options,persistChanges:!0})},{view:new a.DropdownFieldView({model:m,title:e("Gender"),valueAttribute:"gender",options:s.gender.options,persistChanges:!0})},{view:new a.DropdownFieldView({model:m,title:e("Year of Birth"),valueAttribute:"year_of_birth",options:s.year_of_birth.options,persistChanges:!0})},{view:new r.LanguageProficienciesFieldView({model:m,title:e("Preferred Language"),valueAttribute:"language_proficiencies",options:s.preferred_language.options,persistChanges:!0})}]}];if(t.isArray(u.providers)){var b={title:e("Connected Accounts"),fields:t.map(u.providers,function(i){return{view:new r.AuthFieldView({title:i.name,screenReaderTitle:interpolate_text(e("Connect your {accountName} account"),{accountName:i.name}),valueAttribute:"auth-"+i.id,helpMessage:"",connected:i.connected,connectUrl:i.connect_url,acceptsLogins:i.accepts_logins,disconnectUrl:i.disconnect_url})}})};w.push(b)}var _=new d({model:m,accountUserId:f,el:g,sectionsData:w});_.render();var y=function(){_.showLoadingError()},V=function(){n.log("edx.user.settings.viewed",{page:"account",visibility:null,user_id:f}),_.renderFields()};return m.fetch({success:function(){v.fetch({success:V,error:y})},error:y}),{userAccountModel:m,userPreferencesModel:v,accountSettingsView:_}}})}.call(this,define||RequireJS.define);